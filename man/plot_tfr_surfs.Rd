% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_plots.R
\name{plot_tfr_surfs}
\alias{plot_tfr_surfs}
\alias{plot_tfr_surfs.list}
\alias{plot_tfr_surfs.data.frame}
\title{Plot TFR surfs}
\usage{
plot_tfr_surfs(x, ...)

\method{plot_tfr_surfs}{list}(
  x,
  x_alt = NULL,
  ...,
  incl_small_countries = TRUE,
  plot = TRUE,
  verbose = FALSE
)

\method{plot_tfr_surfs}{data.frame}(
  x,
  x_alt = NULL,
  xvar = c("year", "TFR_median"),
  yvar = c("surf_prob", "TFR_median"),
  x_alt_label = "Non-\\nprobabilistic",
  add_range_ref_lines = identical(yvar, "surf_prob"),
  add_range_regions = TRUE,
  add_est_proj_ref_line = FALSE,
  add_Schoumaker_stalls = isTRUE(any(x[["Schoumaker_included"]])),
  add_prob_TFR_surfs = TRUE,
  xlim_plot = if (identical(xvar, "year")) {
     c(1950, 2050)
 } else c(0, 10),
  ylim_plot = NULL,
  use_ggpattern = FALSE,
  plot_ann = NULL,
  datestamp = FALSE
)
}
\arguments{
\item{x}{Output of \code{\link{make_tfr_surfs}}.}

\item{x_alt}{Alternative results to compare with \code{x} by adding
\code{\link[=ggplot2::geom_rug]{rugs}} to the plot. Structure must match
\code{x}, i.e., if \code{x} is a \code{data.frame}, \code{x_alt} must be
one too, if \code{x} is a list, \code{x_alt} must be a list of the same
length and with the same names.}

\item{xvar, yvar}{Variables to plot on the x- and y-axes.}

\item{x_alt_label}{Label for legend if \code{x_alt} is not \code{NULL}.}

\item{add_range_ref_lines}{Logical; add reference lines for the range
condition?}

\item{add_range_regions}{Logical; add shading to show periods outside the
range condition?}

\item{add_est_proj_ref_line}{Logical; add a vertical reference line marking
the first projection year? Ignored if \code{xvar} \code{!=}
\code{"year"}.}

\item{add_Schoumaker_stalls}{Logical; add shading to show where stalls were
identified by \cite{Schoumaker (2019)}.}

\item{add_prob_TFR_surfs}{Logical; add shading to show where probabilistic
surfs were identified}

\item{xlim_plot, ylim_plot}{Limits for x- and y-axes.}

\item{use_ggpattern}{Logical; should the \pkg{ggpattern} package be used to
add patterning to ranges added by \code{add_range_regions}? Note: this
requires the \pkg{ggpattern} package to be installed and is quite slow.}

\item{plot_ann}{Character; text string to add to plot in top-right corner.}

\item{datestamp}{Logical; add datetime and package version in small text in
bottom left corner?}
}
\value{
A \pkg{ggplot2} object, which will be displayed by default.
}
\description{
Uses \pkg{ggplot2} to generate line plots showing time periods where TFR
surfs were detected. If \code{yvar = "surf_prob"}, the surf probabilities
are plotted; otherwise the total fertility rates (TFRs) are plotted.
}
\references{
Schoumaker, B. (2019), \dQuote{Stalls in Fertility Transitions in
sub-Saharan Africa: Revisiting the Evidence}, \emph{Studies in Family Planning},
50, 257â€“278. \doi{10/gf5zpt}.
}
\seealso{
The \pkg{FPPlateaus} package (https://github.com/markalava/FPPlateaus).

Other Plotting functions: 
\code{\link{plot_surfs_probs}()}
}
\author{
Mark Wheldon
}
\concept{Plotting functions}
