% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_tables.R
\name{tabulate_surf_stats}
\alias{tabulate_surf_stats}
\alias{tabulate_surf_stats.list}
\alias{tabulate_surf_stats.data.frame}
\title{Tables of SURF summary statistics}
\usage{
tabulate_surf_stats(x, ...)

\method{tabulate_surf_stats}{list}(
  x,
  stat = c("count", "avg_len"),
  incl_small_countries = TRUE,
  geographies = c("area_name", "reg_name", "name", "sub_saharan_africa", "global"),
  filter_zero_rows = TRUE,
  proj_split = c("none", "by_surf", "by_year"),
  last_est_year = x[[1]][1, "bayesTFR_present_year"]
)

\method{tabulate_surf_stats}{data.frame}(
  x,
  stat = c("count", "avg_len"),
  geographies = c("area_name", "reg_name", "name", "sub_saharan_africa", "global"),
  filter_zero_rows = TRUE,
  proj_split = c("none", "by_surf", "by_year"),
  last_est_year = x[1, "bayesTFR_present_year"]
)
}
\arguments{
\item{x}{Output of \code{\link{make_tfr_surfs}}.}

\item{...}{Passed to other methods.}

\item{stat}{Character; the statistic to tabulate.}

\item{incl_small_countries}{Logical; exclude countries with populations less
than 90000 in mid 2024?}

\item{geographies}{Cross-classifying geographies for the table. These must
be columns in \code{x}.}

\item{filter_zero_rows}{Logical; remove rows where \code{stat} is zero for
all columns. For example, don't include countries with not tfrSURFs in the
table?}

\item{proj_split}{Character; determines how the tfrSURFs are split between
estimation and projection types. See \dQuote{Details}.}

\item{last_est_year}{Numeric; the first year of the projection period, for
the purposes of \code{proj_split}. This is ignored if \code{proj_split}
\code{=} \code{"none"}.}
}
\value{
A data frame.
}
\description{
Produces tables of SURF counts and average lengths by geographic regions and
other geographies.
}
\details{
Some tfrSURFs occur in the future (defined by \code{last_est_year}), and
hence are based on projected fertility rates. Using \code{proj_split}, these
can be separately tabulated as follows:
\describe{
\item{\code{"none"}}{No distinction is made based on projection or estimation years.}
\item{\code{"by_surf"}}{A SURF is considered wholly within the projection period if more than half of it occurs after \code{last_est_year}.}
\item{\code{"by_year"}}{The average lengths are computed based on the actual number of years in each period (estimation or projection).}
}
}
\seealso{
Other Tabulation: 
\code{\link{tabulate_loc_by_surf}()},
\code{\link{tabulate_surf_periods}()}
}
\author{
Mark C Wheldon
}
\concept{Tabulation}
